<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<link rel="stylesheet" href="css/styles.css">
</head>
<body>
<button id="toggleUI">Toggle UI</button>
<div id="ui">
  <div id="uiHeader">
    <span style="display:flex;align-items:center;">
      <div id="loader"></div>
      <span>Pyraminx Control</span>
    </span>
    <span style="display:flex;align-items:center;">
      <span id="infoBtn">ℹ️</span>
      <span id="optionsBtn">⚙️</span>
      <span id="closeBtn">✖</span>
    </span>
  </div>
  <div id="uiControls">
    <div style="margin-bottom:5px;">Enter JS commands:</div>
    <textarea id="codeInput" rows="10"></textarea>
    <button id="runBtn">Run Code</button>
    <div id="console"></div>
  </div>
</div>

<div id="infoWindow">
  <div id="infoHeader">Commands Info <span id="infoCloseBtn">✖</span></div>
  <div id="infoContent">
    <h3>Available Commands</h3>
    <p><strong>rotateLayerCommand(faceIndex, direction)</strong></p>
    <p>Rotates a layer of the Pyraminx (with animation). The Pyraminx has 4 main axes, one for each corner, corresponding to <code>faceIndex = 0,1,2,3</code>.</p>
    <ul>
      <li><code>faceIndex</code>: integer (0 to 3), which corner axis to rotate.</li>
      <li><code>direction</code>: 1 for clockwise, -1 for counter-clockwise.</li>
    </ul>
    <p>Example: <code>rotateLayerCommand(0,1)</code></p>
    
    <p><strong>getCurrentState()</strong></p>
    <p>Returns a structured state of the Pyraminx as an array of 4 face objects. Each face has 9 triangles with a <code>color</code> property.</p>
    <p>Format:
    <pre>[
  {
    "faceIndex":0,
    "triangles":[{"color":"yellow"}, ... 9 total ...]
  },
  ...
]</pre>
    </p>
  </div>
</div>

<div id="optionsWindow">
  <div id="optionsHeader">Options <span id="optionsCloseBtn">✖</span></div>
  <div id="optionsContent">
    <label style="display:flex;align-items:center;">
      <input type="checkbox" id="disableAnimationsCheckbox" style="margin-right:5px;"> Disable Animations
    </label>
    <p>Changes will be saved automatically.</p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.124.0/build/three.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/three@0.124.0/examples/js/controls/OrbitControls.js"></script>
  <script src="js/main.js"></script>
</div>
</body>
</html>
